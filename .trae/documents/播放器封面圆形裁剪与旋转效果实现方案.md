## 目标
- 将 `fragment_player.xml` 顶部封面改为叠加结构：底层为静态唱片背景（昼/夜自动切换），上层为裁剪成圆形的歌曲封面。
- 在歌曲播放时让圆形封面以 20s/圈线性自转，暂停/停止时停止旋转；背景不动。

## 布局调整（fragment_player.xml）
- 用一个 `FrameLayout` 取代现有顶层 `ImageView(@id/cover)` 的位置，并保持原有权重布局：
  - `FrameLayout` 高度 `0dp` + `layout_weight="1"`，`android:background="@drawable/cloud_player_normal_cover"`（系统会在夜间自动使用 `drawable-night` 变体）。
  - 在 `FrameLayout` 中居中放置一个圆形图片视图，沿用 `@id/cover`，类型使用 `com.google.android.material.imageview.ShapeableImageView`，`scaleType="centerCrop"`，通过 `shapeAppearanceOverlay` 设置为圆形（Material 已在工程中使用：`implementation(libs.material)`）。
  - 这样保持 `PlayerFragment` 仍通过 `binding.cover` 加载封面，但视觉上覆盖在背景红色区域之上。

## 封面裁剪
- 视图层：`ShapeableImageView` 设置圆形外观（Material Components）。
- 图片层：加载封面时在 Glide 调用中增加 `.circleCrop()`，确保位图本身也为圆形，避免边角渲染差异。

## 旋转动画
- 在 `PlayerFragment.kt` 创建并缓存一个 `ObjectAnimator`，目标为 `binding.cover`：
  - `ofFloat(view, "rotation", 0f, 360f)`
  - `setDuration(20000)`
  - `setInterpolator(LinearInterpolator())`
  - `setRepeatCount(ObjectAnimator.INFINITE)`
  - `setRepeatMode(ObjectAnimator.RESTART)`
- 提供 `initCoverAnimator()` 在 `onViewCreated`/绑定建立后初始化一次。

## 播放状态联动
- 在现有的 `Player.Listener.onEvents` 与初始化同步处，依据 `player.isPlaying` 调用：
  - `updateCoverRotation(isPlaying: Boolean)`：`isPlaying == true` 时 `animator.start()`/`resume()`；否则 `animator.pause()`（或 `cancel()` 保持停止）。
- 可在 `onPlayToggle()` 里在调用 `controller.play()/pause()` 后也触发一次 `updateCoverRotation(controller.isPlaying)` 以获得更即时的视觉反馈；但 `onEvents` 已能覆盖绝大多数状态变更。

## 清理
- 在 `onDestroyView()` 中对动画执行 `cancel()` 并置空引用，避免泄漏与非法视图引用。

## 文件改动点
- `app/src/main/res/layout/fragment_player.xml`：将顶层封面区域改为 `FrameLayout` + 背景 + `ShapeableImageView(@id/cover)`。
- `app/src/main/java/com/example/media3uamp/ui/player/PlayerFragment.kt`：
  - 增加 `initCoverAnimator()`、`updateCoverRotation(isPlaying: Boolean)`。
  - 在 `onViewCreated` 初始化动画并在 `onEvents`/初始化同步时联动播放状态。
  - 在 `updateMetadata` 的 Glide 加载链加入 `.circleCrop()`。
  - 在 `onDestroyView` 释放动画。

## 验证
- 运行后：
  - 加载一首歌曲，封面显示为圆形，叠加在静态背景上。
  - `play()` 后封面线性自转（20s/圈），`pause()`/`stop()` 后立即停止旋转。
  - 切换昼/夜模式时背景自动替换为对应资源，封面与旋转不受影响。

## 兼容与风险
- Material 依赖已存在（通过 `libs.material`），`ShapeableImageView` 可直接使用。
- 若设备 API 过低导致 `pause()/resume()` 行为不一致，降级为 `start()/cancel()` 逻辑（保持功能正确）。
- Glide `.circleCrop()` 不改变原有占位符与加载逻辑，仅增加裁剪变换。